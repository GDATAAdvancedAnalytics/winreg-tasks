// Code generated by kaitai-struct-compiler from a .ksy source file. DO NOT EDIT.

package generated

import "github.com/kaitai-io/kaitai_struct_go_runtime/kaitai"


type Triggers_JobBucketFlags int
const (
	Triggers_JobBucketFlags__RunOnlyIfIdle Triggers_JobBucketFlags = 2
	Triggers_JobBucketFlags__RestartOnIdle Triggers_JobBucketFlags = 4
	Triggers_JobBucketFlags__StopOnIdleEnd Triggers_JobBucketFlags = 8
	Triggers_JobBucketFlags__DisallowStartIfOnBatteries Triggers_JobBucketFlags = 16
	Triggers_JobBucketFlags__StopIfGoingOnBatteries Triggers_JobBucketFlags = 32
	Triggers_JobBucketFlags__StartWhenAvailable Triggers_JobBucketFlags = 64
	Triggers_JobBucketFlags__RunOnlyIfNetworkAvailable Triggers_JobBucketFlags = 128
	Triggers_JobBucketFlags__AllowStartOnDemand Triggers_JobBucketFlags = 256
	Triggers_JobBucketFlags__WakeToRun Triggers_JobBucketFlags = 512
	Triggers_JobBucketFlags__ExecuteParallel Triggers_JobBucketFlags = 1024
	Triggers_JobBucketFlags__ExecuteStopExisting Triggers_JobBucketFlags = 2048
	Triggers_JobBucketFlags__ExecuteQueue Triggers_JobBucketFlags = 4096
	Triggers_JobBucketFlags__ExecuteIgnoreNew Triggers_JobBucketFlags = 8192
	Triggers_JobBucketFlags__LogonTypeS4u Triggers_JobBucketFlags = 16384
	Triggers_JobBucketFlags__LogonTypeInteractivetoken Triggers_JobBucketFlags = 65536
	Triggers_JobBucketFlags__LogonTypePassword Triggers_JobBucketFlags = 262144
	Triggers_JobBucketFlags__LogonTypeInteractivetokenorpassword Triggers_JobBucketFlags = 524288
	Triggers_JobBucketFlags__Enabled Triggers_JobBucketFlags = 4194304
	Triggers_JobBucketFlags__Hidden Triggers_JobBucketFlags = 8388608
	Triggers_JobBucketFlags__RunlevelHighestAvailable Triggers_JobBucketFlags = 16777216
	Triggers_JobBucketFlags__Task Triggers_JobBucketFlags = 33554432
	Triggers_JobBucketFlags__Version Triggers_JobBucketFlags = 67108864
	Triggers_JobBucketFlags__TokenSidTypeNone Triggers_JobBucketFlags = 134217728
	Triggers_JobBucketFlags__TokenSidTypeUnrestricted Triggers_JobBucketFlags = 268435456
	Triggers_JobBucketFlags__Interval Triggers_JobBucketFlags = 536870912
	Triggers_JobBucketFlags__AllowHardTerminate Triggers_JobBucketFlags = 1073741824
)

type Triggers_SessionState int
const (
	Triggers_SessionState__ConsoleConnect Triggers_SessionState = 1
	Triggers_SessionState__ConsoleDisconnect Triggers_SessionState = 2
	Triggers_SessionState__RemoteConnect Triggers_SessionState = 3
	Triggers_SessionState__RemoteDisconnect Triggers_SessionState = 4
	Triggers_SessionState__SessionLock Triggers_SessionState = 5
	Triggers_SessionState__SessionUnlock Triggers_SessionState = 6
)
type Triggers struct {
	Header *Triggers_Header
	JobBucket *Triggers_JobBucket
	Triggers []*Triggers_Trigger
	_io *kaitai.Stream
	_root *Triggers
	_parent interface{}
}
func NewTriggers() *Triggers {
	return &Triggers{
	}
}

func (this *Triggers) Read(io *kaitai.Stream, parent interface{}, root *Triggers) (err error) {
	this._io = io
	this._parent = parent
	this._root = root

	tmp1 := NewTriggers_Header()
	err = tmp1.Read(this._io, this, this._root)
	if err != nil {
		return err
	}
	this.Header = tmp1
	tmp2 := NewTriggers_JobBucket()
	err = tmp2.Read(this._io, this, this._root)
	if err != nil {
		return err
	}
	this.JobBucket = tmp2
	for i := 1;; i++ {
		tmp3, err := this._io.EOF()
		if err != nil {
			return err
		}
		if tmp3 {
			break
		}
		tmp4 := NewTriggers_Trigger()
		err = tmp4.Read(this._io, this, this._root)
		if err != nil {
			return err
		}
		this.Triggers = append(this.Triggers, tmp4)
	}
	return err
}
type Triggers_WnfStateChangeTrigger struct {
	GenericData *Triggers_GenericTriggerData
	StateName []byte
	LenData *AlignedU4
	Data []byte
	_io *kaitai.Stream
	_root *Triggers
	_parent *Triggers_Trigger
}
func NewTriggers_WnfStateChangeTrigger() *Triggers_WnfStateChangeTrigger {
	return &Triggers_WnfStateChangeTrigger{
	}
}

func (this *Triggers_WnfStateChangeTrigger) Read(io *kaitai.Stream, parent *Triggers_Trigger, root *Triggers) (err error) {
	this._io = io
	this._parent = parent
	this._root = root

	tmp5 := NewTriggers_GenericTriggerData()
	err = tmp5.Read(this._io, this, this._root)
	if err != nil {
		return err
	}
	this.GenericData = tmp5
	tmp6, err := this._io.ReadBytes(int(8))
	if err != nil {
		return err
	}
	tmp6 = tmp6
	this.StateName = tmp6
	tmp7 := NewAlignedU4()
	err = tmp7.Read(this._io, this, nil)
	if err != nil {
		return err
	}
	this.LenData = tmp7
	tmp8, err := this._io.ReadBytes(int(this.LenData.Value))
	if err != nil {
		return err
	}
	tmp8 = tmp8
	this.Data = tmp8
	return err
}
type Triggers_ValueQuery struct {
	Name *AlignedBstrExpandSize
	Value *AlignedBstrExpandSize
	_io *kaitai.Stream
	_root *Triggers
	_parent *Triggers_EventTrigger
}
func NewTriggers_ValueQuery() *Triggers_ValueQuery {
	return &Triggers_ValueQuery{
	}
}

func (this *Triggers_ValueQuery) Read(io *kaitai.Stream, parent *Triggers_EventTrigger, root *Triggers) (err error) {
	this._io = io
	this._parent = parent
	this._root = root

	tmp9 := NewAlignedBstrExpandSize()
	err = tmp9.Read(this._io, this, nil)
	if err != nil {
		return err
	}
	this.Name = tmp9
	tmp10 := NewAlignedBstrExpandSize()
	err = tmp10.Read(this._io, this, nil)
	if err != nil {
		return err
	}
	this.Value = tmp10
	return err
}
type Triggers_EventTrigger struct {
	GenericData *Triggers_GenericTriggerData
	Subscription *AlignedBstrExpandSize
	Unknown0 uint32
	Unknown1 uint32
	Unknown2 *AlignedBstrExpandSize
	LenValueQueries *AlignedU4
	ValueQueries []*Triggers_ValueQuery
	_io *kaitai.Stream
	_root *Triggers
	_parent *Triggers_Trigger
}
func NewTriggers_EventTrigger() *Triggers_EventTrigger {
	return &Triggers_EventTrigger{
	}
}

func (this *Triggers_EventTrigger) Read(io *kaitai.Stream, parent *Triggers_Trigger, root *Triggers) (err error) {
	this._io = io
	this._parent = parent
	this._root = root

	tmp11 := NewTriggers_GenericTriggerData()
	err = tmp11.Read(this._io, this, this._root)
	if err != nil {
		return err
	}
	this.GenericData = tmp11
	tmp12 := NewAlignedBstrExpandSize()
	err = tmp12.Read(this._io, this, nil)
	if err != nil {
		return err
	}
	this.Subscription = tmp12
	tmp13, err := this._io.ReadU4le()
	if err != nil {
		return err
	}
	this.Unknown0 = uint32(tmp13)
	tmp14, err := this._io.ReadU4le()
	if err != nil {
		return err
	}
	this.Unknown1 = uint32(tmp14)
	tmp15 := NewAlignedBstrExpandSize()
	err = tmp15.Read(this._io, this, nil)
	if err != nil {
		return err
	}
	this.Unknown2 = tmp15
	tmp16 := NewAlignedU4()
	err = tmp16.Read(this._io, this, nil)
	if err != nil {
		return err
	}
	this.LenValueQueries = tmp16
	for i := 0; i < int(this.LenValueQueries.Value); i++ {
		_ = i
		tmp17 := NewTriggers_ValueQuery()
		err = tmp17.Read(this._io, this, this._root)
		if err != nil {
			return err
		}
		this.ValueQueries = append(this.ValueQueries, tmp17)
	}
	return err
}
type Triggers_IdleTrigger struct {
	GenericData *Triggers_GenericTriggerData
	_io *kaitai.Stream
	_root *Triggers
	_parent *Triggers_Trigger
}
func NewTriggers_IdleTrigger() *Triggers_IdleTrigger {
	return &Triggers_IdleTrigger{
	}
}

func (this *Triggers_IdleTrigger) Read(io *kaitai.Stream, parent *Triggers_Trigger, root *Triggers) (err error) {
	this._io = io
	this._parent = parent
	this._root = root

	tmp18 := NewTriggers_GenericTriggerData()
	err = tmp18.Read(this._io, this, this._root)
	if err != nil {
		return err
	}
	this.GenericData = tmp18
	return err
}
type Triggers_JobBucket struct {
	Flags *AlignedU4
	Crc32 *AlignedU4
	PrincipalId *AlignedBstr
	DisplayName *AlignedBstr
	UserInfo *UserInfo
	OptionalSettings *OptionalSettings
	_io *kaitai.Stream
	_root *Triggers
	_parent *Triggers
}
func NewTriggers_JobBucket() *Triggers_JobBucket {
	return &Triggers_JobBucket{
	}
}

func (this *Triggers_JobBucket) Read(io *kaitai.Stream, parent *Triggers, root *Triggers) (err error) {
	this._io = io
	this._parent = parent
	this._root = root

	tmp19 := NewAlignedU4()
	err = tmp19.Read(this._io, this, nil)
	if err != nil {
		return err
	}
	this.Flags = tmp19
	tmp20 := NewAlignedU4()
	err = tmp20.Read(this._io, this, nil)
	if err != nil {
		return err
	}
	this.Crc32 = tmp20
	if (this._root.Header.Version.Value >= 22) {
		tmp21 := NewAlignedBstr()
		err = tmp21.Read(this._io, this, nil)
		if err != nil {
			return err
		}
		this.PrincipalId = tmp21
	}
	if (this._root.Header.Version.Value >= 23) {
		tmp22 := NewAlignedBstr()
		err = tmp22.Read(this._io, this, nil)
		if err != nil {
			return err
		}
		this.DisplayName = tmp22
	}
	tmp23 := NewUserInfo()
	err = tmp23.Read(this._io, this, nil)
	if err != nil {
		return err
	}
	this.UserInfo = tmp23
	tmp24 := NewOptionalSettings()
	err = tmp24.Read(this._io, this, nil)
	if err != nil {
		return err
	}
	this.OptionalSettings = tmp24
	return err
}
type Triggers_LogonTrigger struct {
	GenericData *Triggers_GenericTriggerData
	User *UserInfo
	_io *kaitai.Stream
	_root *Triggers
	_parent *Triggers_Trigger
}
func NewTriggers_LogonTrigger() *Triggers_LogonTrigger {
	return &Triggers_LogonTrigger{
	}
}

func (this *Triggers_LogonTrigger) Read(io *kaitai.Stream, parent *Triggers_Trigger, root *Triggers) (err error) {
	this._io = io
	this._parent = parent
	this._root = root

	tmp25 := NewTriggers_GenericTriggerData()
	err = tmp25.Read(this._io, this, this._root)
	if err != nil {
		return err
	}
	this.GenericData = tmp25
	tmp26 := NewUserInfo()
	err = tmp26.Read(this._io, this, nil)
	if err != nil {
		return err
	}
	this.User = tmp26
	return err
}
type Triggers_SessionChangeTrigger struct {
	GenericData *Triggers_GenericTriggerData
	StateChange Triggers_SessionState
	Padding []byte
	User *UserInfo
	_io *kaitai.Stream
	_root *Triggers
	_parent *Triggers_Trigger
}
func NewTriggers_SessionChangeTrigger() *Triggers_SessionChangeTrigger {
	return &Triggers_SessionChangeTrigger{
	}
}

func (this *Triggers_SessionChangeTrigger) Read(io *kaitai.Stream, parent *Triggers_Trigger, root *Triggers) (err error) {
	this._io = io
	this._parent = parent
	this._root = root

	tmp27 := NewTriggers_GenericTriggerData()
	err = tmp27.Read(this._io, this, this._root)
	if err != nil {
		return err
	}
	this.GenericData = tmp27
	tmp28, err := this._io.ReadU4le()
	if err != nil {
		return err
	}
	this.StateChange = Triggers_SessionState(tmp28)
	tmp29, err := this._io.ReadBytes(int(4))
	if err != nil {
		return err
	}
	tmp29 = tmp29
	this.Padding = tmp29
	tmp30 := NewUserInfo()
	err = tmp30.Read(this._io, this, nil)
	if err != nil {
		return err
	}
	this.User = tmp30
	return err
}
type Triggers_RegistrationTrigger struct {
	GenericData *Triggers_GenericTriggerData
	_io *kaitai.Stream
	_root *Triggers
	_parent *Triggers_Trigger
}
func NewTriggers_RegistrationTrigger() *Triggers_RegistrationTrigger {
	return &Triggers_RegistrationTrigger{
	}
}

func (this *Triggers_RegistrationTrigger) Read(io *kaitai.Stream, parent *Triggers_Trigger, root *Triggers) (err error) {
	this._io = io
	this._parent = parent
	this._root = root

	tmp31 := NewTriggers_GenericTriggerData()
	err = tmp31.Read(this._io, this, this._root)
	if err != nil {
		return err
	}
	this.GenericData = tmp31
	return err
}
type Triggers_GenericTriggerData struct {
	StartBoundary *Tstime
	EndBoundary *Tstime
	DelaySeconds uint32
	TimeoutSeconds uint32
	RepetitionIntervalSeconds uint32
	RepetitionDurationSeconds uint32
	RepetitionDurationSeconds2 uint32
	StopAtDurationEnd uint8
	Padding []byte
	Enabled *AlignedU1
	Unknown []byte
	TriggerId *Bstr
	PadToBlock []byte
	_io *kaitai.Stream
	_root *Triggers
	_parent interface{}
}
func NewTriggers_GenericTriggerData() *Triggers_GenericTriggerData {
	return &Triggers_GenericTriggerData{
	}
}

func (this *Triggers_GenericTriggerData) Read(io *kaitai.Stream, parent interface{}, root *Triggers) (err error) {
	this._io = io
	this._parent = parent
	this._root = root

	tmp32 := NewTstime()
	err = tmp32.Read(this._io, this, nil)
	if err != nil {
		return err
	}
	this.StartBoundary = tmp32
	tmp33 := NewTstime()
	err = tmp33.Read(this._io, this, nil)
	if err != nil {
		return err
	}
	this.EndBoundary = tmp33
	tmp34, err := this._io.ReadU4le()
	if err != nil {
		return err
	}
	this.DelaySeconds = uint32(tmp34)
	tmp35, err := this._io.ReadU4le()
	if err != nil {
		return err
	}
	this.TimeoutSeconds = uint32(tmp35)
	tmp36, err := this._io.ReadU4le()
	if err != nil {
		return err
	}
	this.RepetitionIntervalSeconds = uint32(tmp36)
	tmp37, err := this._io.ReadU4le()
	if err != nil {
		return err
	}
	this.RepetitionDurationSeconds = uint32(tmp37)
	tmp38, err := this._io.ReadU4le()
	if err != nil {
		return err
	}
	this.RepetitionDurationSeconds2 = uint32(tmp38)
	tmp39, err := this._io.ReadU1()
	if err != nil {
		return err
	}
	this.StopAtDurationEnd = tmp39
	tmp40, err := this._io.ReadBytes(int(3))
	if err != nil {
		return err
	}
	tmp40 = tmp40
	this.Padding = tmp40
	tmp41 := NewAlignedU1()
	err = tmp41.Read(this._io, this, nil)
	if err != nil {
		return err
	}
	this.Enabled = tmp41
	tmp42, err := this._io.ReadBytes(int(8))
	if err != nil {
		return err
	}
	tmp42 = tmp42
	this.Unknown = tmp42
	if (this._root.Header.Version.Value >= 22) {
		tmp43 := NewBstr()
		err = tmp43.Read(this._io, this, nil)
		if err != nil {
			return err
		}
		this.TriggerId = tmp43
	}
	if (this._root.Header.Version.Value >= 22) {
		tmp44 := (8 - (this.TriggerId.Len + 4)) % 8
		if tmp44 < 0 {
			tmp44 += 8
		}
		tmp45, err := this._io.ReadBytes(int(tmp44))
		if err != nil {
			return err
		}
		tmp45 = tmp45
		this.PadToBlock = tmp45
	}
	return err
}
type Triggers_TimeTrigger struct {
	JobSchedule *JobSchedule
	TriggerId *Bstr
	Padding []byte
	_io *kaitai.Stream
	_root *Triggers
	_parent *Triggers_Trigger
}
func NewTriggers_TimeTrigger() *Triggers_TimeTrigger {
	return &Triggers_TimeTrigger{
	}
}

func (this *Triggers_TimeTrigger) Read(io *kaitai.Stream, parent *Triggers_Trigger, root *Triggers) (err error) {
	this._io = io
	this._parent = parent
	this._root = root

	tmp46 := NewJobSchedule()
	err = tmp46.Read(this._io, this, nil)
	if err != nil {
		return err
	}
	this.JobSchedule = tmp46
	if (this._root.Header.Version.Value >= 22) {
		tmp47 := NewBstr()
		err = tmp47.Read(this._io, this, nil)
		if err != nil {
			return err
		}
		this.TriggerId = tmp47
	}
	if (this._root.Header.Version.Value >= 22) {
		tmp48 := (8 - (this.TriggerId.Len + 4)) % 8
		if tmp48 < 0 {
			tmp48 += 8
		}
		tmp49, err := this._io.ReadBytes(int(tmp48))
		if err != nil {
			return err
		}
		tmp49 = tmp49
		this.Padding = tmp49
	}
	return err
}
type Triggers_Header struct {
	Version *AlignedU1
	StartBoundary *Tstime
	EndBoundary *Tstime
	_io *kaitai.Stream
	_root *Triggers
	_parent *Triggers
}
func NewTriggers_Header() *Triggers_Header {
	return &Triggers_Header{
	}
}

func (this *Triggers_Header) Read(io *kaitai.Stream, parent *Triggers, root *Triggers) (err error) {
	this._io = io
	this._parent = parent
	this._root = root

	tmp50 := NewAlignedU1()
	err = tmp50.Read(this._io, this, nil)
	if err != nil {
		return err
	}
	this.Version = tmp50
	tmp51 := NewTstime()
	err = tmp51.Read(this._io, this, nil)
	if err != nil {
		return err
	}
	this.StartBoundary = tmp51
	tmp52 := NewTstime()
	err = tmp52.Read(this._io, this, nil)
	if err != nil {
		return err
	}
	this.EndBoundary = tmp52
	return err
}
type Triggers_BootTrigger struct {
	GenericData *Triggers_GenericTriggerData
	_io *kaitai.Stream
	_root *Triggers
	_parent *Triggers_Trigger
}
func NewTriggers_BootTrigger() *Triggers_BootTrigger {
	return &Triggers_BootTrigger{
	}
}

func (this *Triggers_BootTrigger) Read(io *kaitai.Stream, parent *Triggers_Trigger, root *Triggers) (err error) {
	this._io = io
	this._parent = parent
	this._root = root

	tmp53 := NewTriggers_GenericTriggerData()
	err = tmp53.Read(this._io, this, this._root)
	if err != nil {
		return err
	}
	this.GenericData = tmp53
	return err
}
type Triggers_Trigger struct {
	Magic *AlignedU4
	Properties interface{}
	_io *kaitai.Stream
	_root *Triggers
	_parent *Triggers
}
func NewTriggers_Trigger() *Triggers_Trigger {
	return &Triggers_Trigger{
	}
}

func (this *Triggers_Trigger) Read(io *kaitai.Stream, parent *Triggers, root *Triggers) (err error) {
	this._io = io
	this._parent = parent
	this._root = root

	tmp54 := NewAlignedU4()
	err = tmp54.Read(this._io, this, nil)
	if err != nil {
		return err
	}
	this.Magic = tmp54
	switch (this.Magic.Value) {
	case 34952:
		tmp55 := NewTriggers_RegistrationTrigger()
		err = tmp55.Read(this._io, this, this._root)
		if err != nil {
			return err
		}
		this.Properties = tmp55
	case 43690:
		tmp56 := NewTriggers_LogonTrigger()
		err = tmp56.Read(this._io, this, this._root)
		if err != nil {
			return err
		}
		this.Properties = tmp56
	case 65535:
		tmp57 := NewTriggers_BootTrigger()
		err = tmp57.Read(this._io, this, this._root)
		if err != nil {
			return err
		}
		this.Properties = tmp57
	case 30583:
		tmp58 := NewTriggers_SessionChangeTrigger()
		err = tmp58.Read(this._io, this, this._root)
		if err != nil {
			return err
		}
		this.Properties = tmp58
	case 61166:
		tmp59 := NewTriggers_IdleTrigger()
		err = tmp59.Read(this._io, this, this._root)
		if err != nil {
			return err
		}
		this.Properties = tmp59
	case 52428:
		tmp60 := NewTriggers_EventTrigger()
		err = tmp60.Read(this._io, this, this._root)
		if err != nil {
			return err
		}
		this.Properties = tmp60
	case 56797:
		tmp61 := NewTriggers_TimeTrigger()
		err = tmp61.Read(this._io, this, this._root)
		if err != nil {
			return err
		}
		this.Properties = tmp61
	case 26214:
		tmp62 := NewTriggers_WnfStateChangeTrigger()
		err = tmp62.Read(this._io, this, this._root)
		if err != nil {
			return err
		}
		this.Properties = tmp62
	}
	return err
}
