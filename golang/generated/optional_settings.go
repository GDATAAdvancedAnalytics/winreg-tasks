// Code generated by kaitai-struct-compiler from a .ksy source file. DO NOT EDIT.

package generated

import "github.com/kaitai-io/kaitai_struct_go_runtime/kaitai"


type OptionalSettings_Privilege int
const (
	OptionalSettings_Privilege__SeCreateTokenPrivilege OptionalSettings_Privilege = 4
	OptionalSettings_Privilege__SeAssignPrimaryTokenPrivilege OptionalSettings_Privilege = 8
	OptionalSettings_Privilege__SeLockMemoryPrivilege OptionalSettings_Privilege = 16
	OptionalSettings_Privilege__SeIncreaseQuotaPrivilege OptionalSettings_Privilege = 32
	OptionalSettings_Privilege__SeMachineAccountPrivilege OptionalSettings_Privilege = 64
	OptionalSettings_Privilege__SeTcbPrivilege OptionalSettings_Privilege = 128
	OptionalSettings_Privilege__SeSecurityPrivilege OptionalSettings_Privilege = 256
	OptionalSettings_Privilege__SeTakeOwnershipPrivilege OptionalSettings_Privilege = 512
	OptionalSettings_Privilege__SeLoadDriverPrivilege OptionalSettings_Privilege = 1024
	OptionalSettings_Privilege__SeSystemProfilePrivilege OptionalSettings_Privilege = 2048
	OptionalSettings_Privilege__SeSystemtimePrivilege OptionalSettings_Privilege = 4096
	OptionalSettings_Privilege__SeProfileSingleProcessPrivilege OptionalSettings_Privilege = 8192
	OptionalSettings_Privilege__SeIncreaseBasePriorityPrivilege OptionalSettings_Privilege = 16384
	OptionalSettings_Privilege__SeCreatePagefilePrivilege OptionalSettings_Privilege = 32768
	OptionalSettings_Privilege__SeCreatePermanentPrivilege OptionalSettings_Privilege = 65536
	OptionalSettings_Privilege__SeBackupPrivilege OptionalSettings_Privilege = 131072
	OptionalSettings_Privilege__SeRestorePrivilege OptionalSettings_Privilege = 262144
	OptionalSettings_Privilege__SeShutdownPrivilege OptionalSettings_Privilege = 524288
	OptionalSettings_Privilege__SeDebugPrivilege OptionalSettings_Privilege = 1048576
	OptionalSettings_Privilege__SeAuditPrivilege OptionalSettings_Privilege = 2097152
	OptionalSettings_Privilege__SeSystemEnvironmentPrivilege OptionalSettings_Privilege = 4194304
	OptionalSettings_Privilege__SeChangeNotifyPrivilege OptionalSettings_Privilege = 8388608
	OptionalSettings_Privilege__SeRemoteShutdownPrivilege OptionalSettings_Privilege = 16777216
	OptionalSettings_Privilege__SeUndockPrivilege OptionalSettings_Privilege = 33554432
	OptionalSettings_Privilege__SeSyncAgentPrivilege OptionalSettings_Privilege = 67108864
	OptionalSettings_Privilege__SeEnableDelegationPrivilege OptionalSettings_Privilege = 134217728
	OptionalSettings_Privilege__SeManageVolumePrivilege OptionalSettings_Privilege = 268435456
	OptionalSettings_Privilege__SeImpersonatePrivilege OptionalSettings_Privilege = 536870912
	OptionalSettings_Privilege__SeCreateGlobalPrivilege OptionalSettings_Privilege = 1073741824
	OptionalSettings_Privilege__SeTrustedCredManAccessPrivilege OptionalSettings_Privilege = 2147483648
	OptionalSettings_Privilege__SeRelabelPrivilege OptionalSettings_Privilege = 4294967296
	OptionalSettings_Privilege__SeIncreaseWorkingSetPrivilege OptionalSettings_Privilege = 8589934592
	OptionalSettings_Privilege__SeTimeZonePrivilege OptionalSettings_Privilege = 17179869184
	OptionalSettings_Privilege__SeCreateSymbolicLinkPrivilege OptionalSettings_Privilege = 34359738368
	OptionalSettings_Privilege__SeDelegateSessionUserImpersonatePrivilege OptionalSettings_Privilege = 68719476736
)
type OptionalSettings struct {
	Len *AlignedU4
	IdleDurationSeconds uint32
	IdleWaitTimeoutSeconds uint32
	ExecutionTimeLimitSeconds uint32
	DeleteExpiredTaskAfter uint32
	Priority uint32
	RestartOnFailureDelay uint32
	RestartOnFailureRetries uint32
	NetworkId []byte
	Padding0 []byte
	Privileges OptionalSettings_Privilege
	Periodicity *Tstimeperiod
	Deadline *Tstimeperiod
	Exclusive uint8
	Padding1 []byte
	_io *kaitai.Stream
	_root *OptionalSettings
	_parent interface{}
}
func NewOptionalSettings() *OptionalSettings {
	return &OptionalSettings{
	}
}

func (this *OptionalSettings) Read(io *kaitai.Stream, parent interface{}, root *OptionalSettings) (err error) {
	this._io = io
	this._parent = parent
	this._root = root

	tmp1 := NewAlignedU4()
	err = tmp1.Read(this._io, this, nil)
	if err != nil {
		return err
	}
	this.Len = tmp1
	if (this.Len.Value > 0) {
		tmp2, err := this._io.ReadU4le()
		if err != nil {
			return err
		}
		this.IdleDurationSeconds = uint32(tmp2)
	}
	if (this.Len.Value > 0) {
		tmp3, err := this._io.ReadU4le()
		if err != nil {
			return err
		}
		this.IdleWaitTimeoutSeconds = uint32(tmp3)
	}
	if (this.Len.Value > 0) {
		tmp4, err := this._io.ReadU4le()
		if err != nil {
			return err
		}
		this.ExecutionTimeLimitSeconds = uint32(tmp4)
	}
	if (this.Len.Value > 0) {
		tmp5, err := this._io.ReadU4le()
		if err != nil {
			return err
		}
		this.DeleteExpiredTaskAfter = uint32(tmp5)
	}
	if (this.Len.Value > 0) {
		tmp6, err := this._io.ReadU4le()
		if err != nil {
			return err
		}
		this.Priority = uint32(tmp6)
	}
	if (this.Len.Value > 0) {
		tmp7, err := this._io.ReadU4le()
		if err != nil {
			return err
		}
		this.RestartOnFailureDelay = uint32(tmp7)
	}
	if (this.Len.Value > 0) {
		tmp8, err := this._io.ReadU4le()
		if err != nil {
			return err
		}
		this.RestartOnFailureRetries = uint32(tmp8)
	}
	if (this.Len.Value > 0) {
		tmp9, err := this._io.ReadBytes(int(16))
		if err != nil {
			return err
		}
		tmp9 = tmp9
		this.NetworkId = tmp9
	}
	if (this.Len.Value > 0) {
		tmp10, err := this._io.ReadBytes(int(4))
		if err != nil {
			return err
		}
		tmp10 = tmp10
		this.Padding0 = tmp10
	}
	if ( ((this.Len.Value == 56) || (this.Len.Value == 88)) ) {
		tmp11, err := this._io.ReadU8le()
		if err != nil {
			return err
		}
		this.Privileges = OptionalSettings_Privilege(tmp11)
	}
	if (this.Len.Value == 88) {
		tmp12 := NewTstimeperiod()
		err = tmp12.Read(this._io, this, nil)
		if err != nil {
			return err
		}
		this.Periodicity = tmp12
	}
	if (this.Len.Value == 88) {
		tmp13 := NewTstimeperiod()
		err = tmp13.Read(this._io, this, nil)
		if err != nil {
			return err
		}
		this.Deadline = tmp13
	}
	if (this.Len.Value == 88) {
		tmp14, err := this._io.ReadU1()
		if err != nil {
			return err
		}
		this.Exclusive = tmp14
	}
	if (this.Len.Value == 88) {
		tmp15, err := this._io.ReadBytes(int(3))
		if err != nil {
			return err
		}
		tmp15 = tmp15
		this.Padding1 = tmp15
	}
	return err
}
